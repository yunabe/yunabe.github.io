{"componentChunkName":"component---src-templates-post-js","path":"/docs/golang_jupyter.html","webpackCompilationHash":"935b56914147422a1df1","result":{"data":{"markdownRemark":{"html":"<p>最近、データサイエンスや機械学習などの分野で Python+Jupyter Notebook を使うことが多くなっていると思いますが、こういう分野でも Python の代わりに Go が使えたらなと思い趣味で Go の Jupyter Notebook 環境を作りました。</p>\n<p><a href=\"https://github.com/yunabe/lgo\">yunabe/lgo - Go REPL and Jupyter notebook kernel Edit (GitHub)</a></p>\n<h2 id=\"特徴\"><a href=\"#%E7%89%B9%E5%BE%B4\" aria-label=\"特徴 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>特徴</h2>\n<ul>\n<li>Go を Python のようにインタラクティブに記述・実行できます。</li>\n<li>Juyputer Notebook からの利用</li>\n<li>Go の言語機能を全てサポート</li>\n<li>コード補完とドキュメントの表示</li>\n<li>Linux のみをサポート。Mac, Windows 上から使いたい場合は Docker を使って下さい。</li>\n</ul>\n<p>Jupyter Notebook 上での動作はこのような感じになります\n<img src=\"https://drive.google.com/uc?export=view&id=12_7fHfKfdSy8SNXi0nsWznbsRgix9tGJ\" width=\"400\" height=\"366\"></p>\n<h2 id=\"lgo-を使った-jupyter-notebook-の例\"><a href=\"#lgo-%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F-jupyter-notebook-%E3%81%AE%E4%BE%8B\" aria-label=\"lgo を使った jupyter notebook の例 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>lgo を使った Jupyter Notebook の例</h2>\n<ul>\n<li><a href=\"https://nbviewer.jupyter.org/github/yunabe/lgo/blob/master/examples/basics.ipynb\">この Notebook の例 (basics.ipynb)</a>をみてもらえると何ができるか分かりやすいかと思います。\n画像や HTML の出力も可能です。</li>\n<li><a href=\"https://nbviewer.jupyter.org/github/yunabe/lgo/tree/master/examples/\">他にも Notebook のサンプルがいくつかあります。</a></li>\n</ul>\n<h2 id=\"クイックスタート-with-docker\"><a href=\"#%E3%82%AF%E3%82%A4%E3%83%83%E3%82%AF%E3%82%B9%E3%82%BF%E3%83%BC%E3%83%88-with-docker\" aria-label=\"クイックスタート with docker permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>クイックスタート with Docker</h2>\n<ol>\n<li><a href=\"https://docs.docker.com/engine/installation/\">Docker</a>と<a href=\"https://docs.docker.com/compose/\">Docker Compose</a>がインストールされていない場合、インストールして下さい。</li>\n<li>lgo のレポジトリに含まれる docker-compose.yml から、Docker コンテナを起動します。</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&gt; git clone https://github.com/yunabe/lgo.git\n&gt; cd lgo/docker/jupyter\n&gt; docker-compose up -d</code></pre></div>\n<ol start=\"3\">\n<li>上のコマンドで起動されたコンテナの名前をチェックして下さい。<code>jupyter_jupyter_1</code>などの名前がついているはずです。</li>\n<li>以下のコマンドを実行して Jupyter Notebook にアクセスする URL を取得します。</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&gt; docker exec jupyter_jupyter_1 jupyter notebook list\nCurrently running servers:\nhttp://0.0.0.0:8888/?token=50dfee7e328bf86e70c234a2f06021e1df63a19641c86676 :: /examples</code></pre></div>\n<ol start=\"5\">\n<li><code>docker exec</code>で表示されたアクセストークン付きの URL を使って Jupyter Noteboook を開きます。</li>\n<li>Enjoy!</li>\n</ol>\n<h2 id=\"インストール\"><a href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"インストール permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>インストール</h2>\n<h3 id=\"前提条件\"><a href=\"#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\" aria-label=\"前提条件 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前提条件</h3>\n<ul>\n<li>lgo は現在 Linux のみをサポートしています。Windows, Mac OS で使いたい場合は VM や Docker 上の Linux 環境を使って下さい。</li>\n<li><a href=\"https://golang.org/doc/install\">Go 1.8 または Go 1.9</a>がインストールされている</li>\n<li><a href=\"http://jupyter.readthedocs.io/en/latest/install.html\">Jupyter Notebook がインストールされている</a></li>\n<li>\n<p>ZMQ がインストールされている。</p>\n<ul>\n<li>apt なら<code>sudo apt-get install libzmq3-dev</code>でインストールできます。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"インストール-1\"><a href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB-1\" aria-label=\"インストール 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>インストール</h3>\n<ul>\n<li>\n<p><code>go get github.com/yunabe/lgo/cmd/lgo &#x26;&#x26; go get -d github.com/yunabe/lgo/cmd/lgo-internal</code></p>\n<ul>\n<li>このコマンドで<code>lgo</code>コマンドが<code>$GOPATH/bin</code>にインストールされます。<code>$GOPATH/bin</code>に PATH が通っていない場合は<code>PATH</code>を適切に設定して下さい。</li>\n</ul>\n</li>\n<li><code>LGOPATH</code>環境変数を設定してください。<code>lgo</code>は<code>LGOPATH</code>で設定されたディレクトリに実行ファイルやパッケージをインストールします。</li>\n<li>\n<p><code>lgo install</code>を実行</p>\n<ul>\n<li>このコマンドで<code>$GOPATH</code>にインストールされているパッケージが<code>LGOPATH</code>にもインストールされ<code>lgo</code>から利用可能になります。</li>\n<li><code>$GOPATH</code>に大量にパッケージがインストールされているとこの処理には多少時間がかかります。</li>\n<li><code>lgo install</code>が失敗した場合、<code>$LGOPATH/install.log</code>にログが残るのでチェックして原因を特定して下さい。</li>\n<li>もし特定のパッケージのインストールに失敗した場合、<code>-package_blacklist</code>フラグを<code>lgo install</code>に渡して失敗したパッケージを除いてもう一度<code>lgo install</code>を実行して下さい。</li>\n</ul>\n</li>\n<li>\n<p>以下のコマンドを実行して、Juputer Notebook の設定をインストールします</p>\n<ul>\n<li><code>$GOPATH/src/github.com/yunabe/lgo/bin/install_kernel</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"使い方-jupyter-notebook\"><a href=\"#%E4%BD%BF%E3%81%84%E6%96%B9-jupyter-notebook\" aria-label=\"使い方 jupyter notebook permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使い方 Jupyter Notebook</h2>\n<ul>\n<li><code>jupyter notebook</code>で通常通り Jupyter Notebook を起動。その後、\"New Notebook\"メニューで\"Go (lgo)\"を選んで下さい。</li>\n<li>Notebook 上で変数やパッケージ名、関数などにカーソルを合わせて<code>Shift-Tab</code>を押すとドキュメントが表示されます。</li>\n<li><code>Tab</code>でコードの補完（メソッドやフィールド名など）が行われます。</li>\n</ul>\n<img width=\"400\" height=\"225\" src=\"/assets/lgo_inspect.jpg\">\n<img width=\"400\" height=\"225\" src=\"/assets/lgo_complete.jpg\">\n<p><code>lgo run</code>で REPL が起動します。</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\">$ lgo run\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> a<span class=\"token punctuation\">,</span> b <span class=\"token operator\">:=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">func</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">{</span>\n<span class=\"token operator\">...</span>     <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y\n<span class=\"token operator\">...</span>     <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sum(%d, %d) = %d\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">sum</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">7</span></code></pre></div>","tableOfContents":"<ul>\n<li><a href=\"/docs/golang_jupyter.html/#%E7%89%B9%E5%BE%B4\">特徴</a></li>\n<li><a href=\"/docs/golang_jupyter.html/#lgo-%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F-jupyter-notebook-%E3%81%AE%E4%BE%8B\">lgo を使った Jupyter Notebook の例</a></li>\n<li><a href=\"/docs/golang_jupyter.html/#%E3%82%AF%E3%82%A4%E3%83%83%E3%82%AF%E3%82%B9%E3%82%BF%E3%83%BC%E3%83%88-with-docker\">クイックスタート with Docker</a></li>\n<li>\n<p><a href=\"/docs/golang_jupyter.html/#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\">インストール</a></p>\n<ul>\n<li><a href=\"/docs/golang_jupyter.html/#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\">前提条件</a></li>\n<li><a href=\"/docs/golang_jupyter.html/#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB-1\">インストール</a></li>\n</ul>\n</li>\n<li><a href=\"/docs/golang_jupyter.html/#%E4%BD%BF%E3%81%84%E6%96%B9-jupyter-notebook\">使い方 Jupyter Notebook</a></li>\n</ul>","frontmatter":{"title":"lgo - Go の Jupyter Notebook 環境と REPL","lastmod":"2017-11-20T00:00:00.000Z","enable_toc":null},"fields":{"slug":"/docs/golang_jupyter.html"}},"site":{"siteMetadata":{"title":"yunabe.jp"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docs/golang_jupyter.html"}}}