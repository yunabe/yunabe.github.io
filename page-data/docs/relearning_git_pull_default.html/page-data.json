{"componentChunkName":"component---src-templates-post-js","path":"/docs/relearning_git_pull_default.html","webpackCompilationHash":"d26e3e4ee56b80f7c341","result":{"data":{"markdownRemark":{"html":"<p><a href=\"relearning_git_remote.html#git-pull\">前章で git pull の使い方を紹介</a> した際に\n<code>git pull &#x3C;remote> &#x3C;src></code> のように引数を与えると説明しましたが、\n実はこの2つの引数を省略して単に <code>git pull</code>\nとして実行することも出来ます。 このように引数を省略した時には、git\nはどのリモートリポジトリのブランチを選んで現在のブランチに pull\nするのでしょうか。</p>\n<h2 id=\"トラッキングブランチ-tracking-branch-とアップストリーム-upstream\"><a href=\"#%E3%83%88%E3%83%A9%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81-tracking-branch-%E3%81%A8%E3%82%A2%E3%83%83%E3%83%97%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0-upstream\" aria-label=\"トラッキングブランチ tracking branch とアップストリーム upstream permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>トラッキングブランチ (Tracking Branch) とアップストリーム (Upstream)</h2>\n<p><code>git pull/push</code> で引数を省略できるように、Git\nではローカルブランチをリモートトラッキングブランチに対して関連付けることができます。\nリモートトラッキングブランチに関連付けられたローカルブランチのことを\n<a href=\"http://git-scm.com/book/en/Git-Branching-Remote-Branches#Tracking-Branches\">トラッキングブランチ (Tracking Branch)</a>\nと呼びます。\n逆に関連付けられているリモートトラキングブランチのことはアップストリーム\n(Upstream) と呼びます。</p>\n<h2 id=\"アップストリームの設定と確認\"><a href=\"#%E3%82%A2%E3%83%83%E3%83%97%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%A8%E7%A2%BA%E8%AA%8D\" aria-label=\"アップストリームの設定と確認 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>アップストリームの設定と確認</h2>\n<p>既存のブランチをリモートトラッキングブランチに関連付けてみましょう。\nこれは <code>git branch -u &#x3C;upstream> &#x3C;branch></code> で行うことができます\n(<code>&#x3C;branch></code> は省略可。省略した際は現在のブランチが暗黙的に指定される)。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd /tmp/my/workingdir/alice\n$ git branch -u shared/master master\nBranch master set up to track remote branch master from shared.</code></pre></div>\n<p>これでローカルブランチ <code>master</code> が リモートトラキングブランチ\n<code>shared/master</code> と関連付けられました。\nローカルブランチがどのリモートトラキングブランチに関連付けられているかは、\n<code>git branch -vv</code>, <code>git remote show &#x3C;repository></code> の出力あるいは\n<code>.git/config</code> ファイルの中身から確認できます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git branch -vv\n* master   d623bbf [shared/master] Merged.</code></pre></div>\n<p>ブランチの upstream が存在する場合 <code>[]</code> で囲まれて表示されます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git remote show shared\n  * remote shared\n  (略)\n  Local branch configured for &#39;git pull&#39;:\n    master merges with remote master\n  (略)</code></pre></div>\n<p>このように、<code>master</code> ブランチが <code>shared</code> の <code>master</code>\nブランチに関連付けられていることが <code>'git pull'</code> の項目に表示されます。\nまた、<code>.git/config</code>\nファイルを開くと下のような項目が追加されているはずです。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[branch &quot;master&quot;]\n remote = shared\n merge = refs/heads/master</code></pre></div>\n<p>これで、アップストリームが設定できたので <code>git pull</code>\nを引数なしで実行してみましょう (<code>-v</code> をつけると分かりやすいです)。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git pull\nAlready up-to-date.</code></pre></div>\n<p>ローカルブランチとリモートトラキングブランチの関連付けは\n<code>git branch --unset-upstream &#x3C;local_branch></code> で解除できます。\n解除すると、<code>git pull</code> は引数なしでは動かなくなります。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git branch --unset-upstream master\n$ git pull\nfatal: No remote repository specified.  Please, specify either a URL or a\nremote name from which new revisions should be fetched.</code></pre></div>\n<p><code>git remote show shared</code> の出力と <code>.git/config</code>\nの中身をみて、関連付けが解除されていることを確認してみてください。</p>\n<h2 id=\"暗黙的に設定されるアップストリーム\"><a href=\"#%E6%9A%97%E9%BB%99%E7%9A%84%E3%81%AB%E8%A8%AD%E5%AE%9A%E3%81%95%E3%82%8C%E3%82%8B%E3%82%A2%E3%83%83%E3%83%97%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0\" aria-label=\"暗黙的に設定されるアップストリーム permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>暗黙的に設定されるアップストリーム</h2>\n<p>ここまで読んで、アップストリームの設定はしたことないけれど <code>git pull</code>\nは引数なしで普段使っていると思った人がいるかもしれません。\n実はアップストリームの設定は暗黙的に行われることがあります。\nそのため、アップストリームの設定を明示的にしなくても <code>git pull</code>\nは多くの場合で引数なしで使えるようになっています。</p>\n<p>アップストリームの設定は以下の様な場合に暗黙的に行われます</p>\n<ul>\n<li>\n<p>リモートトラキングブランチからブランチを作成した場合</p>\n<ul>\n<li><code>git branch &#x3C;local> &#x3C;remote>/&#x3C;branch></code> (あるいは\n<code>git checkout -b &#x3C;local> &#x3C;remote>/&#x3C;branch></code>)\nを実行してリモートトラキングブランチから\nブランチを作成した場合、&#x3C;local> と &#x3C;remote>/&#x3C;branch>\nが関連付けられます。 (参考: <a href=\"http://git-scm.com/docs/git-branch\">git branch の --track\nの項目</a>)</li>\n</ul>\n</li>\n<li>\n<p><code>git clone</code> で複製した場合</p>\n<ul>\n<li><code>git clone</code> を使うと複製元のリポジトリが <code>origin</code>\nとして自動的に登録され、 <code>origin/master</code> からブランチ <code>master</code>\nが自動的に作成されます。 この際、<code>master</code> と <code>origin/master</code>\nが関連付けられます。</li>\n</ul>\n</li>\n</ul>","tableOfContents":"<ul>\n<li><a href=\"/docs/relearning_git_pull_default.html/#%E3%83%88%E3%83%A9%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81-tracking-branch-%E3%81%A8%E3%82%A2%E3%83%83%E3%83%97%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0-upstream\">トラッキングブランチ (Tracking Branch) とアップストリーム (Upstream)</a></li>\n<li><a href=\"/docs/relearning_git_pull_default.html/#%E3%82%A2%E3%83%83%E3%83%97%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%A8%E7%A2%BA%E8%AA%8D\">アップストリームの設定と確認</a></li>\n<li><a href=\"/docs/relearning_git_pull_default.html/#%E6%9A%97%E9%BB%99%E7%9A%84%E3%81%AB%E8%A8%AD%E5%AE%9A%E3%81%95%E3%82%8C%E3%82%8B%E3%82%A2%E3%83%83%E3%83%97%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0\">暗黙的に設定されるアップストリーム</a></li>\n</ul>","frontmatter":{"title":"Git 再入門: 引数がない git pull のデフォルトの挙動 (アップストリーム, トラッキングブランチについて)","lastmod":"2015-05-01T00:00:00.000Z","enable_toc":null},"fields":{"slug":"/docs/relearning_git_pull_default.html"}},"site":{"siteMetadata":{"title":"yunabe.jp"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docs/relearning_git_pull_default.html"}}}