{"componentChunkName":"component---src-templates-post-js","path":"/docs/relearning_git_push_default.html","webpackCompilationHash":"abdeb2b18324cc3bde0c","result":{"data":{"markdownRemark":{"html":"<p><a href=\"relearning_git_remote.html#git-push\">前述したように</a>、<code>git push &#x3C;remote> &#x3C;src>:&#x3C;dst></code>\nを実行するとローカルブランチ <code>&#x3C;src></code> を リモートリポジトリ <code>&#x3C;remote></code>\nに対して書き込み、<code>&#x3C;remote></code> 上のブランチ <code>&#x3C;dst></code> を pushされた <code>&#x3C;src></code>\nを指すように first-forward します。\n<code>git pull</code> と同様に <code>git push</code> の引数も省略することができます。\n<code>git push</code> で引数を省略した場合のルールは <code>git pull</code>\nで引数を省略した場合のそれより複雑です。</p>\n<h2 id=\"srcdst-が省略された時の挙動\"><a href=\"#srcdst-%E3%81%8C%E7%9C%81%E7%95%A5%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\" aria-label=\"srcdst が省略された時の挙動 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>&#x3C;src>:&#x3C;dst> が省略された時の挙動</h2>\n<p><code>&#x3C;src>:&#x3C;dst></code> が省略された場合の挙動は、<a href=\"http://git-scm.com/docs/git-config/1.9.2\">push.default の設定値によって以下のように決まります</a>。\n1.x系列では <code>matching</code> がデフォルト値ですが、<code>mathing</code>だと現在のブランチ以外も push してしまい危険なので<code>simple</code>などに変更しておくことが推奨されます。\n2.x系からはデフォルト値は <code>simple</code> に変更されています。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git config --global push.default simple</code></pre></div>\n<p>5つの値について簡単に説明しておきます。\n(<a href=\"relearning_git_pull_default.html\">アップストリーム、トラッキングブランチが何だか分からない場合はこちらを参照して下さい</a>)</p>\n<ul>\n<li>\n<p>nothing</p>\n<ul>\n<li><code>&#x3C;src>:&#x3C;dst></code>が省略された場合<code>git push</code>は何もしません。一番安全ですし、これに設定するのも悪く無いかと思います。</li>\n</ul>\n</li>\n<li>\n<p>current</p>\n<ul>\n<li>現在のブランチ<code>&#x3C;current></code>を同名のブランチとして push します。\n<code>&#x3C;current>:&#x3C;current></code> を指定したことになります。</li>\n</ul>\n</li>\n<li>\n<p>upstream</p>\n<ul>\n<li>現在のブランチをその upstream に対して push します。\n現在のブランチに upstream がない場合は何もしません。 また\n<code>&#x3C;remote></code> が upstream\nに指定されたリモートトラキングブランチのリポジトリと異なる場合も何もしません。\n個人的にはこれが自然かな？という気がします。</li>\n</ul>\n</li>\n<li>\n<p>simple</p>\n<ul>\n<li>\n<p>現在のブランチに upstream が設定されており、upstream\nのリポジトリが <code>&#x3C;remote></code> と一致する場合</p>\n<ul>\n<li>現在のブランチと upstram のブランチが同名の場合 push\nを行います。</li>\n<li>名前が異なる場合は何もしません。</li>\n</ul>\n</li>\n<li>そうでない場合は <code>current</code> と同じように動作します。</li>\n<li>デフォルトの割には動作が少し複雑...</li>\n</ul>\n</li>\n<li>\n<p>matching</p>\n<ul>\n<li>同じ名前のブランチがリモートリポジトリに存在する <strong>全て</strong>\nのブランチを push します。\n現在のブランチとは関係なく、同名のブランチがあればすべて push\nされてしまいます。 意図していないブランチをうっかり push\nしかねない、恐ろしいオプションです。 しかも 1.x\n系列では何故かこれがデフォルト値になっています。\n1.x系を使っている人は失敗する前に今すぐ\n<code>git config --global push.default simple</code>\nで設定を変更しておきましょう。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"dst-が省略された時の挙動\"><a href=\"#dst-%E3%81%8C%E7%9C%81%E7%95%A5%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\" aria-label=\"dst が省略された時の挙動 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>:&#x3C;dst> が省略された時の挙動</h2>\n<p><code>git push</code> に渡す <code>&#x3C;src>:&#x3C;dst></code> の <code>:&#x3C;dst></code> の部分は省略可能です。\n<code>:&#x3C;dst></code> を省略した場合には <code>&#x3C;src>:&#x3C;src></code>\nを指定したのと同じことになります。</p>\n<h2 id=\"remote-が省略された時の挙動\"><a href=\"#remote-%E3%81%8C%E7%9C%81%E7%95%A5%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\" aria-label=\"remote が省略された時の挙動 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>&#x3C;remote> が省略された時の挙動</h2>\n<p><code>&#x3C;remote></code> が省略された場合の挙動は\n<a href=\"http://git-scm.com/docs/git-push/1.9.2\">git push の --repo=&#x3C;repository> の項目</a>\nに書かれています。</p>\n<ul>\n<li>現在のブランチ (<code>&#x3C;src></code> ではない点に注意！) が\nトラッキングブランチである場合 (upstream が設定されている場合)、\nトラックしているブランチ (== upstream) のリモートリポジトリが\n<code>&#x3C;remote></code> として利用される。</li>\n<li>\n<p>そうでない場合は、</p>\n<ul>\n<li><code>--repository=&#x3C;repository></code>\nが設定されている場合は、指定された値が利用されます</li>\n<li><code>--repository=&#x3C;repository></code> がない場合は <code>origin</code>\nが利用されます。</li>\n</ul>\n</li>\n</ul>","tableOfContents":"<ul>\n<li><a href=\"/docs/relearning_git_push_default.html/#srcdst-%E3%81%8C%E7%9C%81%E7%95%A5%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">&#x3C;src>:&#x3C;dst> が省略された時の挙動</a></li>\n<li><a href=\"/docs/relearning_git_push_default.html/#dst-%E3%81%8C%E7%9C%81%E7%95%A5%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">:&#x3C;dst> が省略された時の挙動</a></li>\n<li><a href=\"/docs/relearning_git_push_default.html/#remote-%E3%81%8C%E7%9C%81%E7%95%A5%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AE%E6%8C%99%E5%8B%95\">&#x3C;remote> が省略された時の挙動</a></li>\n</ul>","frontmatter":{"title":"Git 再入門: 引数がない場合の git push のデフォルトの挙動（push.default の設定について）","lastmod":"2015-05-01T00:00:00.000Z","enable_toc":null},"fields":{"slug":"/docs/relearning_git_push_default.html"}},"site":{"siteMetadata":{"title":"yunabe.jp"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docs/relearning_git_push_default.html"}}}